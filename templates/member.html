<div class="container">
	<menuclub></menuclub>
	<div class="member-edit" ng-show="isLogin() && edit ===true">
		<form name="member" id="member" ng-submit="addMbr()" novalidate >

			<h3>Edition du membre</h3>
			<!--<div class="col-lg-6">
				<div class="col-lg-6"><label>Pseudo : </label></div>
				<div class="col-lg-6"><input name="psd" type="text" required ng-model="member.psdmbr"/>
							<div ng-show="member.$submitted || member.psd.$touched">
				<div ng-show="member.psd.$error.required">Le pseudo doit être renseigné</div><br>
			</div>
				</div>
				<div class="col-lg-6"><label>Nom : </label></div>
				<div class="col-lg-6"></td><td><input type="text" ng-model="member.nommbr"/></td></div><br>

			<div class="col-lg-6"><label>Prénom : </label></div>
			<div class="col-lg-6"><input type="text" ng-model="member.prnmbr"/></div><br>

			<div class="col-lg-6"><label>Date de naissance : </label></div>
			<div class="col-lg-6"><input type="date" ng-model="member.dtnmbr"/></div><br>
			<div class="col-lg-6"><label>Statut : </label></div>
			<div class="col-lg-6"><select ng-model="member.stambc">
				<option value="A" selected>Actif</option>
				<option value="I">Inactif</option>
			</select></div><br>
			</div><br>-->
			<div class="col-lg-6">
				<table>
					<thead><h4>Informations générales</h4></thead>
					<tr>
						<td><label>Pseudo</label></td>
						<td>
							<input name="psd" type="text" required ng-model="member.psdmbr"/>
							<div ng-show="member.$submitted || member.psd.$touched">
								<div ng-show="member.psd.$error.required">Le pseudo doit être renseigné</div>
							</div>
						</td>
					</tr>
					<tr>
						<td><label>Nom</label></td>
						<td><input type="text" ng-model="member.nommbr"/></td>
					</tr>
					<tr>
						<td><label>Prénom</label></td>
						<td><input type="text" ng-model="member.prnmbr"/></td>
					</tr>
					<tr>
						<td><label>Date de naissance</label></td>
						<td><div class="input-group ui-datepicker mtt-date">
							<input name="dte" type="text" class="form-control" datepicker-popup="{{format}}"
								   ng-model="member.dtnmbr" is-open="opened" min="minDate" max="'2015-06-22'"
								   datepicker-options="dateOptions"
								   ng-required="true" close-text="Fermer"
								   ng-click="open($event)"
								   show-button-bar="false"
								   />
							<span class="input-group-btn">
								<button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
							</span>
						</div></td>
					</tr>
					<tr>
						<td><label>Statut</label></td>
						<td>
							<select ng-model="member.stambc">
								<option value="A" selected>Actif</option>
								<option value="I">Inactif</option>
							</select>
						</td>
					</tr>
				</table>
			</div>
			<div class="col-lg-6">
				<table>
					<thead><h4>Adresse</h4></thead>
					<tr>
						<td><label>Adresse</label></td><td colspan="3"><input type="text" ng-model="member.adrmbr"/></td>
					</tr>
					<tr>
						<td><label>Code postal</label></td>
						<td><input type="text" ng-model="member.copmbr"/></td>
						<td><label>Ville</label></td>
						<td><input type="text" ng-model="member.vilmbr"/></td>
					</tr>
				</table>
				<br>
				<table>
					<thead><h4>Téléphone / mail</h4></thead>
					<tr>
						<td><label>Téléphone</label></td>
						<td><input type="tel" ng-model="member.telmbr"/></td>
						<td><label>Mobile</label></td>
						<td><input type="tel" ng-model="member.mobmbr"/></td>
					</tr>
					<tr>
						<td><label>Mail</label></td>
						<td colspan="3"><input type="email" ng-model="member.melmbr"/></td>
					</tr>
				</table>
			</div>
			<!--<label>Adresse : </label>
			<input type="text" ng-model="member.adrmbr"/><br>

			<label>Code postal : </label>
			<input type="text" ng-model="member.copmbr"/><br>

			<label>Ville : </label>
			<input type="text" ng-model="member.vilmbr"/><br>
			</div>
			<div class="col-lg-12">

			<label>Téléphone : </label>
			<input type="tel" ng-model="member.telmbr"/><br>

			<label>Mobile : </label>
			<input type="tel" ng-model="member.mobmbr"/><br>

			<label>Mail : </label>
			<input type="email" ng-model="member.melmbr"/><br>
			</div>-->


			<input type="submit" class="btn btn-default" value="Valider"/>
		</form>
	</div>
	<div class="col-lg-12" ng-show="edit === false">
		<h1 class="member-pseudo"><div class="glyph-icon flaticon-shark-100">{{data.psdmbr}}</div>
		</h1>
	</div>

	<button class="btn btn-default" type="submit" ng-click="editMbr()" ng-show="isLogin() && edit === false">Modifier</button><br>

	<div class="col-lg-12 member-stats">
		<h4>Statistiques</h4>
		Ce membre a participé à {{data.nbparties}} MTT<br>
		Son pire ennemi est <a ui-sref="member({idClub: idClub, id: memberShark.kilmtm})">{{memberShark.psdmbr}}</a> avec {{memberShark.nbkill}} kills<br>
		Son fish est <a ui-sref="member({idClub: idClub, id: memberFish.mbrmtm})"> {{memberFish.psdmbr}}</a> avec {{memberFish.nbkill}} kills<br>
	</div>
	<div class="col-lg-12 member-results">
		<h4>Palmarès</h4>
		Récompenses aux classements : <a class="member-award" ng-repeat="rnk in memberAwardsRankings" ng-click="showRnk(idClub, rnk.numrnk)">
		<span class="glyph-icon flaticon-trophy36-{{rnk.plcrkm}}-mbr" popover="{{rnk.nomrnk}}" popover-trigger="mouseenter"></span></a><br>
		Récompenses aux tournois : <a class="member-award" ng-repeat="mtt in memberAwardsMtts" ng-click="showMtt(idClub, mtt.nummtt)">
		<span class="glyph-icon flaticon-emblem-{{mtt.plcmtm}}-mbr" popover="{{mtt.dtemtt}}" popover-trigger="mouseenter"></span></a>
	</div>
	<br>

	<tabset>
		<tab heading="Classement">
			<table st-table="displayedMemberRankings" st-safe-src="memberRankings" class="table table-bordered mpc-table">
				<tr>
					<th>Classement</th>
					<th class="hidden-xs">Début le</th>
					<th class="hidden-xs">Fin le</th>
					<th>Rang</th>
					<th>Parties jouées</th>
				</tr>
				<tr class="mpc-table-list" ng-repeat="rnk in displayedMemberRankings" ng-click="showRnk(idClub, rnk.numrnk)">
					<td>{{rnk.nomrnk}}</td>
					<td class="hidden-xs">{{rnk.strrnk}}</td>
					<td class="hidden-xs">{{rnk.endrnk}}</td>
					<td>{{rnk.plcrkm}}/{{rnk.nbprnk}}</td>
					<td>{{rnk.nbprkm}}/{{rnk.nbgrkm}}</td>
				</tr>
				<tfoot ng-show="memberRankings.length > 10">
					<td colspan="5" class="text-center">
						<div st-pagination="displayedMemberRankings" st-items-by-page="10" st-template="templates/pagination.html"></div>
					</td>
				</tfoot>
			</table>
		</tab>
		<tab heading="Parties">
			<table st-table="displayedMemberParties" st-safe-src="memberParties" class="table table-bordered mpc-table">
				<tr>
					<th>Joué le</th>
					<th class="hidden-xs">Type</th>
					<th>Rang</th>
					<th>Points</th>
					<th>Sorti par</th>
				</tr>
				<tr class="mpc-table-list" ng-repeat="partie in displayedMemberParties" ng-click="showMtt(idClub, partie.nummtt)">
					<td>{{partie.dtemtt}}</td>
					<td class="hidden-xs">{{partie.typpartie}}</td>
					<td>{{partie.plcmtm}}/{{partie.nbmmtt}}</td>
					<td>{{partie.ptsmtm}}</td>
					<td>{{partie.killer}}</td>
				</tr>
				<tfoot ng-show="memberParties.length > 10">
					<td colspan="5" class="text-center">
						<div st-pagination="displayedMemberParties" st-items-by-page="10" st-template="templates/pagination.html"></div>
					</td>
				</tfoot>
			</table>
		</tab>
	</tabset>
</div>
